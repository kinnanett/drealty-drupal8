<?php

/**
 * @file
 * DRealty module.
 */

use \Drupal\drealty\Entity\ConnectionEntity;

/**
 * Implements hook_permission().
 */
function drealty_permission() {
  $return = array();

  $return['administer drealty connections'] = array(
    'title' => t('Administer DRealty Connections'),
    'restrict access' => TRUE,
  );

  return $return;
}

/**
 * Menu argument loader. Returns a DRealty Connection entity.
 *
 * @param $id
 * @return \Drupal\drealty\ConnectionInterface;
 */
function drealty_connection_load($id) {
  return ConnectionEntity::load($id);
}

/**
 * Implements hook_toolbar_alter().
 */
function drealty_toolbar_alter(&$items) {
  if (isset($items['administration']['tray'])) {
    $items['administration']['tray']['#attached']['css'][] = drupal_get_path('module', 'drealty') . '/assets/css/drealty.admin.css';
  }
}
